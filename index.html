<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OdinSight Tech Maturity Assessment</title>
    <style>
        :root {
            --primary: #4a9bd7;
            --secondary: #2ecc71;
            --danger: #e74c3c;
            --dark: #0a1622;
            --darker: #050d16;
            --light: #ecf0f1;
            --text-light: #ecf0f1;
            --text-dark: #2c3e50;
            --border-radius: 4px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--darker);
            color: var(--text-light);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .card {
            background-color: var(--dark);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(74, 155, 215, 0.2);
        }

        h1, h2, h3, h4 {
            color: var(--primary);
            margin-top: 0;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: var(--text-light);
        }

        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(74, 155, 215, 0.3);
            border-radius: var(--border-radius);
            background-color: rgba(10, 22, 34, 0.8);
            color: var(--text-light);
            font-size: 16px;
            box-sizing: border-box;
        }

        button {
            background-color: rgba(74, 155, 215, 0.2);
            color: var(--text-light);
            border: 1px solid var(--primary);
            padding: 12px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            background-color: rgba(74, 155, 215, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        button:disabled {
            background-color: rgba(74, 155, 215, 0.1);
            border-color: rgba(74, 155, 215, 0.2);
            color: rgba(236, 240, 241, 0.5);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: var(--darker);
        }

        .login-card {
            width: 100%;
            max-width: 400px;
            padding: 30px;
            background-color: var(--dark);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(74, 155, 215, 0.2);
        }

        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .login-form {
            margin-top: 20px;
        }

        .login-btn {
            width: 100%;
            margin-top: 20px;
            padding: 12px;
            font-size: 18px;
        }

        .login-error {
            color: var(--danger);
            margin-top: 15px;
            font-size: 14px;
            text-align: center;
            min-height: 20px;
        }

        .register-link, .back-to-login {
            margin-top: 20px;
            text-align: center;
        }

        .register-link a, .back-to-login a {
            color: var(--primary);
            text-decoration: none;
        }

        .register-link a:hover, .back-to-login a:hover {
            text-decoration: underline;
        }

        .register-form {
            display: none;
        }

        /* App selection styles */
        .selected-apps {
            margin-top: 15px;
        }

        .selected-app-item {
            display: flex;
            align-items: center;
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .selected-app-item span {
            flex-grow: 1;
        }

        .remove-app {
            background-color: var(--danger);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }

        .add-app-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }

        .add-app-btn:disabled {
            background-color: rgba(46, 204, 113, 0.3);
            cursor: not-allowed;
        }

        #calculate-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            width: 100%;
        }

        .results {
            display: none;
            margin-top: 30px;
        }

        .app-card {
            display: flex;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            background-color: rgba(10, 22, 34, 0.9);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid rgba(74, 155, 215, 0.2);
        }

        .app-card-rank {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            background-color: var(--primary);
            color: var(--text-light);
            font-weight: bold;
            font-size: 24px;
        }

        .app-card-content {
            padding: 15px;
            flex-grow: 1;
            color: var(--text-light);
        }

        .app-card h3 {
            margin-bottom: 5px;
            color: var(--primary);
        }

        .app-card-stats {
            display: flex;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .stat {
            margin-right: 20px;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: #7f8c8d;
            text-transform: uppercase;
        }

        .criteria-explanation {
            margin-bottom: 20px;
        }

        .criteria-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .criteria-item {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 15px;
            border-radius: 4px;
        }

        .criteria-item h3 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .criteria-item p {
            margin: 0;
            font-size: 14px;
        }

        .recommendations {
            margin-top: 20px;
        }

        .recommendation-step {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 15px;
        }

        .recommendation-step h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .recommendation-step ul {
            margin: 0;
            padding-left: 20px;
        }

        .recommendation-step li {
            margin-bottom: 5px;
        }

        .alternatives {
            margin-top: 30px;
        }
        
        /* Maturity Score Styles */
        .maturity-score-container {
            display: flex;
            margin-bottom: 30px;
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            border-radius: 4px;
            padding: 20px;
        }
        
        .maturity-score {
            flex: 0 0 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-right: 1px solid rgba(74, 155, 215, 0.2);
            padding-right: 20px;
            margin-right: 20px;
        }
        
        .score-value {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .score-label {
            font-size: 14px;
            color: var(--text-light);
            text-align: center;
            margin-top: 10px;
        }
        
        .maturity-explanation {
            flex: 1;
        }
        
        /* App Analysis Styles */
        .app-analysis {
            margin-bottom: 30px;
        }
        
        .app-detail-card {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .app-detail-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(74, 155, 215, 0.2);
            padding-bottom: 10px;
        }
        
        .app-detail-name {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .app-detail-score {
            font-size: 18px;
            font-weight: bold;
            color: var(--secondary);
        }
        
        .app-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .app-metric {
            background-color: rgba(10, 22, 34, 0.9);
            border: 1px solid rgba(74, 155, 215, 0.1);
            border-radius: 4px;
            padding: 10px;
        }
        
        .metric-name {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .app-strengths-weaknesses {
            display: flex;
            margin-top: 15px;
        }
        
        .app-strengths, .app-weaknesses {
            flex: 1;
            padding: 10px;
        }
        
        .app-strengths h4, .app-weaknesses h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .app-strengths {
            border-right: 1px solid rgba(74, 155, 215, 0.2);
        }
        
        /* Synergy Analysis Styles */
        .synergy-analysis {
            margin-bottom: 30px;
        }
        
        .synergy-matrix {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            border-radius: 4px;
            padding: 20px;
            margin-top: 15px;
        }
        
        .synergy-pair {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(74, 155, 215, 0.1);
        }
        
        .synergy-apps {
            flex: 0 0 250px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .synergy-score {
            flex: 0 0 80px;
            font-weight: bold;
            color: var(--secondary);
        }
        
        .synergy-description {
            flex: 1;
        }
        
        /* Implementation Plan Styles */
        .implementation-plan {
            margin-bottom: 30px;
        }
        
        .implementation-phase {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .phase-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(74, 155, 215, 0.2);
            padding-bottom: 10px;
        }
        
        .phase-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .phase-timeline {
            font-size: 14px;
            color: var(--text-light);
        }
        
        .phase-tasks {
            margin-bottom: 15px;
        }
        
        .phase-resources {
            font-size: 14px;
            color: var(--text-light);
            font-style: italic;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .save-btn, .download-btn {
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
        }
        
        .save-btn {
            background-color: var(--primary);
            color: white;
            border: none;
        }
        
        .download-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
        }

        .alternative-app {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 15px;
        }

        .alternative-app h3 {
            margin-top: 0;
            margin-bottom: 5px;
            color: var(--secondary);
        }

        .alternative-app p {
            margin: 5px 0;
        }

        .alternative-app .pros-cons {
            display: flex;
            margin-top: 10px;
        }

        .alternative-app .pros, .alternative-app .cons {
            flex: 1;
        }

        .alternative-app h4 {
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .alternative-app ul {
            margin: 0;
            padding-left: 20px;
        }

        .alternative-app li {
            margin-bottom: 3px;
            font-size: 14px;
        }

        .app-category {
            margin-bottom: 20px;
        }

        .app-category-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .app-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .app-item {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .app-item:hover {
            background-color: rgba(74, 155, 215, 0.2);
        }

        .app-item.selected {
            background-color: rgba(74, 155, 215, 0.4);
            border-color: var(--primary);
        }

        /* Admin panel styles */
        .admin-panel {
            display: none;
        }

        .user-list {
            margin-top: 20px;
        }

        .user-item {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .user-item h3 {
            margin-top: 0;
            margin-bottom: 5px;
        }

        .user-actions {
            margin-top: 10px;
        }

        .user-actions button {
            margin-right: 10px;
            padding: 6px 12px;
            font-size: 14px;
        }

        .delete-user {
            background-color: rgba(231, 76, 60, 0.2);
            border-color: var(--danger);
        }

        .delete-user:hover {
            background-color: rgba(231, 76, 60, 0.4);
        }

        /* Profile section styles */
        .profile-section {
            margin-top: 30px;
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .profile-actions {
            display: flex;
            gap: 10px;
        }

        .profile-info {
            background-color: rgba(10, 22, 34, 0.8);
            border: 1px solid rgba(74, 155, 215, 0.2);
            padding: 20px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .profile-info-item {
            margin-bottom: 15px;
        }

        .profile-info-label {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .profile-info-value {
            color: var(--text-light);
        }

        .edit-profile-form {
            display: none;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .card {
                padding: 15px;
            }

            .criteria-grid {
                grid-template-columns: 1fr;
            }

            .app-card {
                flex-direction: column;
            }

            .app-card-rank {
                width: 100%;
                padding: 5px 0;
            }

            .alternative-app .pros-cons {
                flex-direction: column;
            }

            .alternative-app .pros {
                margin-bottom: 15px;
            }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <!-- Login Container (initially visible) -->
    <div id="login-container" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h1>OdinSight</h1>
                <h2>Tech Maturity Assessment</h2>
                <p>Please log in to access the assessment tool</p>
            </div>
            <div class="login-form">
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" placeholder="Enter your username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <div id="login-error" class="login-error"></div>
                <button id="login-btn" class="login-btn">Log In</button>
                <div class="register-link">
                    <a href="#" id="show-register">Don't have an account? Register here</a>
                </div>
            </div>
            <div class="register-form" id="register-form">
                <div class="form-group">
                    <label for="reg-username">Username:</label>
                    <input type="text" id="reg-username" placeholder="Choose a username" required>
                </div>
                <div class="form-group">
                    <label for="reg-email">Email:</label>
                    <input type="email" id="reg-email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="reg-password">Password:</label>
                    <input type="password" id="reg-password" placeholder="Choose a password" required>
                </div>
                <div class="form-group">
                    <label for="reg-confirm-password">Confirm Password:</label>
                    <input type="password" id="reg-confirm-password" placeholder="Confirm your password" required>
                </div>
                <div id="register-error" class="login-error"></div>
                <button id="register-btn" class="login-btn">Register</button>
                <div class="back-to-login">
                    <a href="#" id="show-login">Already have an account? Log in here</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content (initially hidden) -->
    <div id="main-content" style="display: none;">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="welcome-message">
                        <h1>Welcome to the Tech Maturity Assessment by OdinSight</h1>
                        <h2>Provided by Odin Tech Forge</h2>
                        <p>Our intuitive and well-designed assessment quickly evaluates your organization's technology maturity. You'll receive a comprehensive Tech Maturity Score along with tailored recommendations to guide your next steps, while effectively identifying both risks and opportunities.</p>
                    </div>
                    <div class="logout-container">
                        <button id="logout-btn" class="logout-btn">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="tab-navigation">
                <button class="tab active" data-tab="assessment">Assessment</button>
                <button class="tab" data-tab="profile">Company Profile</button>
                <div id="admin-tab-container" style="display: none;">
                    <button class="tab" data-tab="admin">Admin Panel</button>
                </div>
            </div>

            <div id="assessment-tab" class="tab-content active">
                <!-- App Selection Section -->
                <div class="card">
                    <h2>Select Your Category and App</h2>
                    <div class="form-group">
                        <label for="category">Category:</label>
                        <select id="category">
                            <option value="">Select a category</option>
                            <option value="Email">Email & Collaboration</option>
                            <option value="Messaging">Messaging & Communication</option>
                            <option value="Data Storage">Data Storage & File Sharing</option>
                            <option value="Project Management">Project Management</option>
                            <option value="CRM">Customer Relationship Management</option>
                            <option value="Development">Development Tools</option>
                            <option value="Analytics">Analytics & Business Intelligence</option>
                            <option value="Security">Security & Compliance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="app">App:</label>
                        <select id="app" disabled>
                            <option value="">First select a category</option>
                        </select>
                        <button id="add-app-btn" class="add-app-btn" disabled>Add App</button>
                    </div>
                    <div class="selected-apps" id="selected-apps">
                        <!-- Selected apps will be displayed here -->
                        <p id="no-apps-message">No apps selected yet. You can select up to 8 apps.</p>
                    </div>
                </div>

                <div class="card">
                    <h2>Company Profile</h2>
                    <div class="form-group">
                        <label for="company-name">Company Name:</label>
                        <input type="text" id="company-name" placeholder="Enter your company name" required>
                    </div>
                    <div class="form-group">
                        <label for="team-size">Team Size:</label>
                        <select id="team-size" required>
                            <option value="">Select team size</option>
                            <option value="1-10">1-10</option>
                            <option value="11-50">11-50</option>
                            <option value="51-200">51-200</option>
                            <option value="200+">200+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="infrastructure">Where is your infrastructure hosted?</label>
                        <select id="infrastructure" required>
                            <option value="">Select infrastructure</option>
                            <option value="On-premise">On-premise</option>
                            <option value="Hybrid">Hybrid</option>
                            <option value="Cloud-first (AWS, Azure, GCP)">Cloud-first (AWS, Azure, GCP)</option>
                            <option value="Fully automated cloud-native">Fully automated cloud-native</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="disaster-recovery">Disaster Recovery / Backup Strategy:</label>
                        <select id="disaster-recovery" required>
                            <option value="">Select disaster recovery</option>
                            <option value="No backups">No backups</option>
                            <option value="Manual occasionally">Manual occasionally</option>
                            <option value="Automated daily">Automated daily</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="security">Security Practices:</label>
                        <select id="security" required>
                            <option value="">Select security practice</option>
                            <option value="None">None</option>
                            <option value="Ad-hoc">Ad-hoc</option>
                            <option value="Regular vulnerability scans">Regular vulnerability scans</option>
                            <option value="Formal framework (ISO 27001, SOC2)">Formal framework (ISO 27001, SOC2)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="gdpr">GDPR / Data Privacy Compliance:</label>
                        <select id="gdpr" required>
                            <option value="">Select GDPR compliance</option>
                            <option value="None">None</option>
                            <option value="In progress">In progress</option>
                            <option value="Fully compliant with audits">Fully compliant with audits</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="deployment">Deployment Process:</label>
                        <select id="deployment" required>
                            <option value="">Select deployment process</option>
                            <option value="Manual">Manual</option>
                            <option value="Basic CI/CD">Basic CI/CD</option>
                            <option value="Automated CI/CD + testing">Automated CI/CD + testing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="version-control">Version Control:</label>
                        <select id="version-control" required>
                            <option value="">Select version control</option>
                            <option value="No">No</option>
                            <option value="Yes, but inconsistently">Yes, but inconsistently</option>
                            <option value="Yes, fully standardized">Yes, fully standardized</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cto">Technical Leadership:</label>
                        <select id="cto" required>
                            <option value="">Select technical leadership</option>
                            <option value="No dedicated tech leader">No dedicated tech leader</option>
                            <option value="Part-time/fractional support">Part-time/fractional support</option>
                            <option value="Dedicated CTO">Dedicated CTO</option>
                            <option value="CTO + leadership team">CTO + leadership team</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="roadmap">Technology Roadmap Review Frequency:</label>
                        <select id="roadmap" required>
                            <option value="">Select roadmap frequency</option>
                            <option value="Never">Never</option>
                            <option value="Once a year">Once a year</option>
                            <option value="Quarterly">Quarterly</option>
                            <option value="Continuous">Continuous</option>
                        </select>
                    </div>
                    <h3>AI Readiness</h3>
                    <div class="form-group">
                        <label for="ai-usage">Current AI Usage:</label>
                        <select id="ai-usage" required>
                            <option value="">Select AI usage</option>
                            <option value="Not at all">Not at all</option>
                            <option value="Experimenting in some departments">Experimenting in some departments</option>
                            <option value="Integrated into workflows (e.g., analytics, automation)">Integrated into workflows (e.g., analytics, automation)</option>
                            <option value="Core part of products/services">Core part of products/services</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ai-strategy">AI Strategy:</label>
                        <select id="ai-strategy" required>
                            <option value="">Select AI strategy</option>
                            <option value="No strategy/policy">No strategy/policy</option>
                            <option value="Some guidelines, not standardized">Some guidelines, not standardized</option>
                            <option value="Formal AI strategy in progress">Formal AI strategy in progress</option>
                            <option value="Comprehensive AI strategy with governance">Comprehensive AI strategy with governance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ai-ethics">AI Ethics & Governance:</label>
                        <select id="ai-ethics" required>
                            <option value="">Select AI ethics</option>
                            <option value="Not considered">Not considered</option>
                            <option value="Ad-hoc awareness">Ad-hoc awareness</option>
                            <option value="Formal reviews & partial safeguards">Formal reviews & partial safeguards</option>
                            <option value="Fully established AI governance framework">Fully established AI governance framework</option>
                        </select>
                    </div>
                    <button id="save-profile-btn">Save Company Profile</button>
                    <button id="calculate-btn" style="margin-left: 10px;">Calculate Optimization Steps</button>
                </div>
                
                <div class="results" id="results">
                    <div class="card">
                        <h2>Tech Maturity Assessment Results</h2>
                        <div class="maturity-score-container">
                            <div class="maturity-score" id="maturity-score">
                                <!-- Maturity score will be displayed here -->
                            </div>
                            <div class="maturity-explanation">
                                <p>Your Tech Maturity Score represents your organization's overall technological readiness across key dimensions including infrastructure, security, development practices, leadership, and AI readiness.</p>
                                <p>This score serves as a benchmark for your current state and helps identify priority areas for improvement.</p>
                            </div>
                        </div>

                        <h2>App Ranking Criteria</h2>
                        <div class="criteria-explanation">
                            <p>Our app ranking system evaluates software across seven key dimensions that are critical for business success:</p>
                            <div class="criteria-grid">
                                <div class="criteria-item">
                                    <h3>Functionality / Features (1–5)</h3>
                                    <p>How well the app meets core business needs with essential features and capabilities.</p>
                                </div>
                                <div class="criteria-item">
                                    <h3>User Experience (1–5)</h3>
                                    <p>Ease of use, interface design, and overall user satisfaction.</p>
                                </div>
                                <div class="criteria-item">
                                    <h3>Integration Capabilities (1–5)</h3>
                                    <p>How well the app connects with other tools in your tech stack.</p>
                                </div>
                                <div class="criteria-item">
                                    <h3>Scalability (1–5)</h3>
                                    <p>Ability to grow with your business without performance degradation.</p>
                                </div>
                                <div class="criteria-item">
                                    <h3>Security & Compliance (1–5)</h3>
                                    <p>Data protection, privacy features, and regulatory compliance.</p>
                                </div>
                                <div class="criteria-item">
                                    <h3>Support & Reliability (1–5)</h3>
                                    <p>Quality of customer support, uptime, and overall reliability.</p>
                                </div>
                                <div class="criteria-item">
                                    <h3>Value for Money (1–5)</h3>
                                    <p>Return on investment considering cost vs. benefits.</p>
                                </div>
                            </div>
                        </div>
                        
                        <h2>Your App Rankings</h2>
                        <div id="app-rankings"></div>
                        
                        <div id="current-app-details"></div>
                        
                        <h2>Detailed Application Analysis</h2>
                        <div class="app-analysis" id="app-analysis">
                            <!-- Detailed app analysis will be displayed here -->
                        </div>

                        <h2>Synergy Analysis</h2>
                        <div class="synergy-analysis" id="synergy-analysis">
                            <p>This analysis examines how your selected applications work together to create additional value through integration and workflow optimization.</p>
                            <!-- Synergy analysis will be displayed here -->
                        </div>
                        
                        <h2>Recommended Optimization Steps</h2>
                        <div class="recommendations" id="recommendations"></div>

                        <h2>Detailed Implementation Plan</h2>
                        <div class="implementation-plan" id="implementation-plan">
                            <!-- Implementation plan will be displayed here -->
                        </div>

                        <div class="action-buttons">
                            <button id="save-assessment-btn" class="save-btn">Save Assessment Results</button>
                            <button id="download-pdf-btn" class="download-btn">Download PDF Report</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="profile-tab" class="tab-content">
                <div class="card">
                    <h2>Company Profile</h2>
                    <div class="profile-header">
                        <div>
                            <button id="edit-profile-btn" class="btn">Edit Profile</button>
                            <button id="save-profile-btn" class="btn" style="display: none;">Save Profile</button>
                            <button id="cancel-edit-btn" class="btn" style="display: none;">Cancel</button>
                        </div>
                    </div>
                    
                    <div id="profile-display">
                        <div class="profile-info">
                            <div class="profile-info-item">
                                <div class="profile-info-label">Company Name:</div>
                                <div class="profile-info-value" id="profile-company-name">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Team Size:</div>
                                <div class="profile-info-value" id="profile-team-size">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Infrastructure:</div>
                                <div class="profile-info-value" id="profile-infrastructure">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Disaster Recovery:</div>
                                <div class="profile-info-value" id="profile-disaster-recovery">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Security Practices:</div>
                                <div class="profile-info-value" id="profile-security">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">GDPR Compliance:</div>
                                <div class="profile-info-value" id="profile-gdpr">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Deployment Process:</div>
                                <div class="profile-info-value" id="profile-deployment">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Version Control:</div>
                                <div class="profile-info-value" id="profile-version-control">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Technical Leadership:</div>
                                <div class="profile-info-value" id="profile-cto">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">Technology Roadmap:</div>
                                <div class="profile-info-value" id="profile-roadmap">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">AI Usage:</div>
                                <div class="profile-info-value" id="profile-ai-usage">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">AI Strategy:</div>
                                <div class="profile-info-value" id="profile-ai-strategy">Not set</div>
                            </div>
                            <div class="profile-info-item">
                                <div class="profile-info-label">AI Ethics & Governance:</div>
                                <div class="profile-info-value" id="profile-ai-ethics">Not set</div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="profile-form" class="edit-profile-form">
                        <div class="form-group">
                            <label for="profile-company-name-input">Company Name:</label>
                            <input type="text" id="profile-company-name-input" placeholder="Enter your company name">
                        </div>
                        <div class="form-group">
                            <label for="profile-team-size-input">Team Size:</label>
                            <select id="profile-team-size-input">
                                <option value="1-10">1-10</option>
                                <option value="11-50">11-50</option>
                                <option value="51-200">51-200</option>
                                <option value="200+">200+</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-infrastructure-input">Infrastructure:</label>
                            <select id="profile-infrastructure-input">
                                <option value="On-premise">On-premise</option>
                                <option value="Hybrid">Hybrid</option>
                                <option value="Cloud-first (AWS, Azure, GCP)">Cloud-first (AWS, Azure, GCP)</option>
                                <option value="Fully automated cloud-native">Fully automated cloud-native</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-disaster-recovery-input">Disaster Recovery:</label>
                            <select id="profile-disaster-recovery-input">
                                <option value="No backups">No backups</option>
                                <option value="Manual occasionally">Manual occasionally</option>
                                <option value="Automated daily">Automated daily</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-security-input">Security Practices:</label>
                            <select id="profile-security-input">
                                <option value="None">None</option>
                                <option value="Ad-hoc">Ad-hoc</option>
                                <option value="Regular vulnerability scans">Regular vulnerability scans</option>
                                <option value="Formal framework (ISO 27001, SOC2)">Formal framework (ISO 27001, SOC2)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-gdpr-input">GDPR Compliance:</label>
                            <select id="profile-gdpr-input">
                                <option value="None">None</option>
                                <option value="In progress">In progress</option>
                                <option value="Fully compliant with audits">Fully compliant with audits</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-deployment-input">Deployment Process:</label>
                            <select id="profile-deployment-input">
                                <option value="Manual">Manual</option>
                                <option value="Basic CI/CD">Basic CI/CD</option>
                                <option value="Automated CI/CD + testing">Automated CI/CD + testing</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-version-control-input">Version Control:</label>
                            <select id="profile-version-control-input">
                                <option value="No">No</option>
                                <option value="Yes, but inconsistently">Yes, but inconsistently</option>
                                <option value="Yes, fully standardized">Yes, fully standardized</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-cto-input">Technical Leadership:</label>
                            <select id="profile-cto-input">
                                <option value="No dedicated tech leader">No dedicated tech leader</option>
                                <option value="Part-time/fractional support">Part-time/fractional support</option>
                                <option value="Dedicated CTO">Dedicated CTO</option>
                                <option value="CTO + leadership team">CTO + leadership team</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-roadmap-input">Technology Roadmap:</label>
                            <select id="profile-roadmap-input">
                                <option value="Never">Never</option>
                                <option value="Once a year">Once a year</option>
                                <option value="Quarterly">Quarterly</option>
                                <option value="Continuous">Continuous</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-ai-usage-input">AI Usage:</label>
                            <select id="profile-ai-usage-input">
                                <option value="Not at all">Not at all</option>
                                <option value="Experimenting in some departments">Experimenting in some departments</option>
                                <option value="Integrated into workflows (e.g., analytics, automation)">Integrated into workflows (e.g., analytics, automation)</option>
                                <option value="Core part of products/services">Core part of products/services</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-ai-strategy-input">AI Strategy:</label>
                            <select id="profile-ai-strategy-input">
                                <option value="No strategy/policy">No strategy/policy</option>
                                <option value="Some guidelines, not standardized">Some guidelines, not standardized</option>
                                <option value="Formal AI strategy in progress">Formal AI strategy in progress</option>
                                <option value="Comprehensive AI strategy with governance">Comprehensive AI strategy with governance</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="profile-ai-ethics-input">AI Ethics & Governance:</label>
                            <select id="profile-ai-ethics-input">
                                <option value="Not considered">Not considered</option>
                                <option value="Ad-hoc awareness">Ad-hoc awareness</option>
                                <option value="Formal reviews & partial safeguards">Formal reviews & partial safeguards</option>
                                <option value="Fully established AI governance framework">Fully established AI governance framework</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div id="admin-tab" class="tab-content">
                <div class="card">
                    <h2>Admin Panel</h2>
                    <div class="admin-panel">
                        <h3>User Management</h3>
                        <div class="user-list" id="user-list">
                            <!-- Users will be listed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'https://odin-sight-backend.vercel.app/api';
        let selectedApps = [];
        let currentProfile = null;
        let currentUser = null;

        // App data
        const appData = {
            'Email': [
                { name: 'Gmail', description: 'Google email service' },
                { name: 'Outlook', description: 'Microsoft email service' },
                { name: 'ProtonMail', description: 'Secure email service' },
                { name: 'Zoho Mail', description: 'Business email service' }
            ],
            'Messaging': [
                { name: 'Slack', description: 'Team messaging platform' },
                { name: 'Microsoft Teams', description: 'Microsoft collaboration platform' },
                { name: 'Discord', description: 'Voice and text chat platform' },
                { name: 'Zoom', description: 'Video conferencing platform' }
            ],
            'Data Storage': [
                { name: 'Google Drive', description: 'Cloud storage and file sharing' },
                { name: 'Dropbox', description: 'File hosting service' },
                { name: 'OneDrive', description: 'Microsoft cloud storage' },
                { name: 'Box', description: 'Enterprise cloud storage' }
            ],
            'Project Management': [
                { name: 'Asana', description: 'Project management tool' },
                { name: 'Trello', description: 'Kanban-style project management' },
                { name: 'Jira', description: 'Project tracking and management' },
                { name: 'Monday.com', description: 'Work management platform' }
            ],
            'CRM': [
                { name: 'Salesforce', description: 'Customer relationship management' },
                { name: 'HubSpot', description: 'CRM and marketing automation' },
                { name: 'Pipedrive', description: 'Sales CRM' },
                { name: 'Zoho CRM', description: 'Customer relationship management' }
            ],
            'Development': [
                { name: 'GitHub', description: 'Code repository and collaboration' },
                { name: 'GitLab', description: 'DevOps platform' },
                { name: 'Bitbucket', description: 'Git repository management' },
                { name: 'VS Code', description: 'Code editor' }
            ],
            'Analytics': [
                { name: 'Google Analytics', description: 'Web analytics service' },
                { name: 'Power BI', description: 'Business analytics tools' },
                { name: 'Tableau', description: 'Data visualization' },
                { name: 'Looker', description: 'Business intelligence platform' }
            ],
            'Security': [
                { name: 'LastPass', description: 'Password management' },
                { name: '1Password', description: 'Password manager' },
                { name: 'NordVPN', description: 'Virtual private network' },
                { name: 'CrowdStrike', description: 'Endpoint security' }
            ]
        };

        // Login function
        async function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });

                const data = await response.json();
                if (response.ok) {
                    localStorage.setItem('token', data.token);
                    localStorage.setItem('username', username);
                    currentUser = data.user;
                    
                    document.getElementById('login-container').style.display = 'none';
                    document.getElementById('main-content').style.display = 'block';
                    
                    loadProfile();
                    checkAdminAccess();
                } else {
                    document.getElementById('login-error').textContent = data.message || 'Login failed';
                }
            } catch (error) {
                console.error('Login error:', error);
                document.getElementById('login-error').textContent = 'Connection error';
            }
        }

        // Register function
        async function register() {
            const username = document.getElementById('reg-username').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;

            if (password !== confirmPassword) {
                document.getElementById('register-error').textContent = 'Passwords do not match';
                return;
            }

            try {
                const response = await fetch(`${API_URL}/auth/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, email, password })
                });

                const data = await response.json();
                if (response.ok) {
                    localStorage.setItem('token', data.token);
                    localStorage.setItem('username', username);
                    currentUser = data.user;
                    
                    document.getElementById('login-container').style.display = 'none';
                    document.getElementById('main-content').style.display = 'block';
                    
                    loadProfile();
                    checkAdminAccess();
                } else {
                    document.getElementById('register-error').textContent = data.message || 'Registration failed';
                }
            } catch (error) {
                console.error('Registration error:', error);
                document.getElementById('register-error').textContent = 'Connection error';
            }
        }

        // Load profile
        async function loadProfile() {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch(`${API_URL}/profile`, {
                    headers: { 
                        'Authorization': `Bearer ${token}`,
                        'Cache-Control': 'no-cache'
                    }
                });

                if (response.ok) {
                    currentProfile = await response.json();
                    populateFormFields();
                    populateProfileDisplay();
                } else if (response.status === 404) {
                    // No profile exists yet - this is normal for new users
                    currentProfile = null;
                    console.log('No profile found - creating new one');
                } else {
                    console.error('Error loading profile:', response.status);
                }
            } catch (error) {
                console.error('Error loading profile:', error);
            }
        }

        // Save profile
        async function saveProfile() {
            const token = localStorage.getItem('token');
            if (!token) return;

            const profileData = {
                companyName: document.getElementById('company-name').value,
                teamSize: document.getElementById('team-size').value,
                infrastructure: document.getElementById('infrastructure').value,
                disasterRecovery: document.getElementById('disaster-recovery').value,
                security: document.getElementById('security').value,
                gdpr: document.getElementById('gdpr').value,
                deployment: document.getElementById('deployment').value,
                versionControl: document.getElementById('version-control').value,
                cto: document.getElementById('cto').value,
                roadmap: document.getElementById('roadmap').value,
                aiUsage: document.getElementById('ai-usage').value,
                aiStrategy: document.getElementById('ai-strategy').value,
                aiEthics: document.getElementById('ai-ethics').value,
                selectedApps: selectedApps || []
            };

            try {
                const response = await fetch(`${API_URL}/profile`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(profileData)
                });

                if (response.ok) {
                    currentProfile = profileData;
                    populateProfileDisplay();
                    alert('Profile saved successfully!');
                } else {
                    const error = await response.json();
                    alert('Error saving profile: ' + (error.message || 'Unknown error'));
                }
            } catch (error) {
                console.error('Error saving profile:', error);
                alert('Connection error saving profile');
            }
        }

        // Calculate optimization steps
        function calculateOptimizationSteps() {
            if (selectedApps.length === 0) {
                alert('Please select at least one app before calculating optimization steps.');
                return;
            }

            // Calculate maturity score based on profile data
            let maturityScore = 0;
            const maxScore = 100;
            
            // Simple scoring based on selections
            const fields = ['infrastructure', 'disaster-recovery', 'security', 'gdpr', 'deployment', 'version-control', 'cto', 'roadmap', 'ai-usage', 'ai-strategy', 'ai-ethics'];
            let filledFields = 0;
            
            fields.forEach(field => {
                const value = document.getElementById(field).value;
                if (value && value !== '') {
                    filledFields++;
                    // Add points based on selection level
                    if (value.includes('Fully') || value.includes('Continuous') || value.includes('Dedicated')) {
                        maturityScore += 9;
                    } else if (value.includes('Automated') || value.includes('Standardized') || value.includes('Formal')) {
                        maturityScore += 7;
                    } else if (value.includes('Basic') || value.includes('Regular') || value.includes('In progress')) {
                        maturityScore += 5;
                    } else {
                        maturityScore += 3;
                    }
                }
            });

            // Normalize score
            maturityScore = Math.min(100, Math.round((maturityScore / 99) * 100));

            // Generate app rankings
            generateAppRankings(maturityScore);
            
            // Show results
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Generate app rankings
        function generateAppRankings(maturityScore) {
            const appRankings = document.getElementById('app-rankings');
            appRankings.innerHTML = '';

            // Create ranking cards
            selectedApps.forEach((app, index) => {
                const card = document.createElement('div');
                card.className = 'app-card';
                card.innerHTML = `
                    <div class="app-card-rank">${index + 1}</div>
                    <div class="app-card-content">
                        <h3>${app.name}</h3>
                        <p>Category: ${app.category}</p>
                        <div class="app-card-stats">
                            <div class="stat">
                                <span class="stat-label">Functionality</span>
                                <span>${Math.floor(Math.random() * 3) + 3}/5</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">User Experience</span>
                                <span>${Math.floor(Math.random() * 3) + 3}/5</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Integration</span>
                                <span>${Math.floor(Math.random() * 3) + 3}/5</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Scalability</span>
                                <span>${Math.floor(Math.random() * 3) + 3}/5</span>
                            </div>
                        </div>
                    </div>
                `;
                appRankings.appendChild(card);
            });

            // Update maturity score
            const scoreElement = document.getElementById('maturity-score');
            let level = 'Basic';
            if (maturityScore >= 80) level = 'Advanced';
            else if (maturityScore >= 60) level = 'Intermediate';
            else if (maturityScore >= 40) level = 'Developing';

            scoreElement.innerHTML = `
                <div class="score-value">${maturityScore}</div>
                <div class="score-label">Maturity Level: ${level}</div>
            `;

            // Generate recommendations
            generateRecommendations(maturityScore);
        }

        // Generate recommendations
        function generateRecommendations(maturityScore) {
            const recommendations = document.getElementById('recommendations');
            recommendations.innerHTML = '';

            let recs = [];
            if (maturityScore < 40) {
                recs = [
                    "Focus on establishing basic security practices",
                    "Implement regular backups for disaster recovery",
                    "Start using version control for all projects",
                    "Consider cloud migration for better scalability"
                ];
            } else if (maturityScore < 60) {
                recs = [
                    "Implement automated CI/CD pipelines",
                    "Establish formal security frameworks",
                    "Create a technology roadmap review process",
                    "Start AI pilot programs in specific departments"
                ];
            } else if (maturityScore < 80) {
                recs = [
                    "Develop comprehensive AI governance framework",
                    "Implement advanced security monitoring",
                    "Establish continuous improvement processes",
                    "Consider AI integration in core products"
                ];
            } else {
                recs = [
                    "Maintain current advanced practices",
                    "Focus on innovation and emerging technologies",
                    "Share best practices across the organization",
                    "Consider AI-first approach for new initiatives"
                ];
            }

            const recDiv = document.createElement('div');
            recDiv.innerHTML = `
                <div class="recommendation-step">
                    <h3>Immediate Next Steps</h3>
                    <ul>
                        ${recs.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
            `;
            recommendations.appendChild(recDiv);
        }

        // Populate form fields
        function populateFormFields() {
            if (!currentProfile) return;

            document.getElementById('company-name').value = currentProfile.companyName || '';
            document.getElementById('team-size').value = currentProfile.teamSize || '';
            document.getElementById('infrastructure').value = currentProfile.infrastructure || '';
            document.getElementById('disaster-recovery').value = currentProfile.disasterRecovery || '';
            document.getElementById('security').value = currentProfile.security || '';
            document.getElementById('gdpr').value = currentProfile.gdpr || '';
            document.getElementById('deployment').value = currentProfile.deployment || '';
            document.getElementById('version-control').value = currentProfile.versionControl || '';
            document.getElementById('cto').value = currentProfile.cto || '';
            document.getElementById('roadmap').value = currentProfile.roadmap || '';
            document.getElementById('ai-usage').value = currentProfile.aiUsage || '';
            document.getElementById('ai-strategy').value = currentProfile.aiStrategy || '';
            document.getElementById('ai-ethics').value = currentProfile.aiEthics || '';

            if (currentProfile.selectedApps) {
                selectedApps = currentProfile.selectedApps;
                updateSelectedAppsDisplay();
            }
        }

        // Populate profile display
        function populateProfileDisplay() {
            if (!currentProfile) return;

            document.getElementById('profile-company-name').textContent = currentProfile.companyName || 'Not set';
            document.getElementById('profile-team-size').textContent = currentProfile.teamSize || 'Not set';
            document.getElementById('profile-infrastructure').textContent = currentProfile.infrastructure || 'Not set';
            document.getElementById('profile-disaster-recovery').textContent = currentProfile.disasterRecovery || 'Not set';
            document.getElementById('profile-security').textContent = currentProfile.security || 'Not set';
            document.getElementById('profile-gdpr').textContent = currentProfile.gdpr || 'Not set';
            document.getElementById('profile-deployment').textContent = currentProfile.deployment || 'Not set';
            document.getElementById('profile-version-control').textContent = currentProfile.versionControl || 'Not set';
            document.getElementById('profile-cto').textContent = currentProfile.cto || 'Not set';
            document.getElementById('profile-roadmap').textContent = currentProfile.roadmap || 'Not set';
            document.getElementById('profile-ai-usage').textContent = currentProfile.aiUsage || 'Not set';
            document.getElementById('profile-ai-strategy').textContent = currentProfile.aiStrategy || 'Not set';
            document.getElementById('profile-ai-ethics').textContent = currentProfile.aiEthics || 'Not set';
        }

        // Update selected apps display
        function updateSelectedAppsDisplay() {
            const container = document.getElementById('selected-apps');
            const noAppsMessage = document.getElementById('no-apps-message');
            
            if (selectedApps.length === 0) {
                noAppsMessage.style.display = 'block';
                container.innerHTML = '<p id="no-apps-message">No apps selected yet. You can select up to 8 apps.</p>';
            } else {
                noAppsMessage.style.display = 'none';
                container.innerHTML = '';
                selectedApps.forEach((app, index) => {
                    const item = document.createElement('div');
                    item.className = 'selected-app-item';
                    item.innerHTML = `
                        <span>${app.name} (${app.category})</span>
                        <button class="remove-app" onclick="removeApp(${index})">Remove</button>
                    `;
                    container.appendChild(item);
                });
            }
        }

        // Remove app
        function removeApp(index) {
            selectedApps.splice(index, 1);
            updateSelectedAppsDisplay();
        }

        // Check admin access
        function checkAdminAccess() {
            if (currentUser && currentUser.role === 'admin') {
                document.getElementById('admin-tab-container').style.display = 'block';
            }
        }

        // Logout function
        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('username');
            currentUser = null;
            currentProfile = null;
            selectedApps = [];
            
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('login-container').style.display = 'flex';
            document.getElementById('admin-tab-container').style.display = 'none';
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('login-btn').addEventListener('click', login);
            document.getElementById('register-btn').addEventListener('click', register);
            document.getElementById('logout-btn').addEventListener('click', logout);
            document.getElementById('save-profile-btn').addEventListener('click', saveProfile);
            document.getElementById('calculate-btn').addEventListener('click', calculateOptimizationSteps);
            document.getElementById('save-assessment-btn').addEventListener('click', saveProfile);
            document.getElementById('download-pdf-btn').addEventListener('click', function() {
                alert('PDF download functionality will be implemented soon!');
            });

            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
                    
                    tab.classList.add('active');
                    const tabName = tab.dataset.tab;
                    document.getElementById(`${tabName}-tab`).classList.add('active');
                });
            });

            // Check if already logged in
            const token = localStorage.getItem('token');
            if (token) {
                document.getElementById('login-container').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                loadProfile();
            }

            // Login/register toggle
            document.getElementById('show-register').addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelector('.login-form').style.display = 'none';
                document.getElementById('register-form').style.display = 'block';
            });

            document.getElementById('show-login').addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelector('.login-form').style.display = 'block';
                document.getElementById('register-form').style.display = 'none';
            });

            // Category and app selection
            document.getElementById('category').addEventListener('change', function() {
                const category = this.value;
                const appSelect = document.getElementById('app');
                const addBtn = document.getElementById('add-app-btn');
                
                appSelect.innerHTML = '<option value="">Select an app</option>';
                
                if (category && appData[category]) {
                    appData[category].forEach(app => {
                        const option = document.createElement('option');
                        option.value = app.name;
                        option.textContent = app.name;
                        option.dataset.description = app.description;
                        appSelect.appendChild(option);
                    });
                    appSelect.disabled = false;
                    addBtn.disabled = false;
                } else {
                    appSelect.disabled = true;
                    addBtn.disabled = true;
                }
            });

            document.getElementById('add-app-btn').addEventListener('click', function() {
                const appSelect = document.getElementById('app');
                const appName = appSelect.value;
                const category = document.getElementById('category').value;
                
                if (appName && selectedApps.length < 8) {
                    selectedApps.push({ name: appName, category: category });
                    updateSelectedAppsDisplay();
                    
                    // Reset selection
                    appSelect.value = '';
                    document.getElementById('category').value = '';
                    appSelect.disabled = true;
                    this.disabled = true;
                } else if (selectedApps.length >= 8) {
                    alert('You can select a maximum of 8 apps.');
                }
            });
        });
    </script>
</body>
</html>
